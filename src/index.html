<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Corrected path to match the uibuilder URL -->
    <link rel="icon" href="/test/images/node-blue.ico">

    <title>Blank template - Node-RED UIBUILDER</title>
    <meta name="description" content="Node-RED UIBUILDER - Blank template">

    <!-- Your own CSS -->
    <link type="text/css" rel="stylesheet" href="./index.css" media="all">

    <!-- UIBUILDER Core - Paths now match the uibuilder URL -->
    <script defer src="/test/uibuilder.iife.min.js"></script>

</head>

<body>
    <h1>Create condition(s)</h1>

    <!-- Controls -->
    <button id="addInjectBtn">Add Inject</button>
    <button id="addGateBtn">Add Gate</button>
    <button id="addDebugBtn">Add Debug</button>
    <button id="addSwitchBtn">Add Switch</button>

    <h2>Connect Nodes</h2>
    <div>
        <select id="fromNode"></select> â†’
        <select id="toNode"></select>
        <button id="addConnectionBtn">Add Connection</button>
    </div>

    <!-- Nodes Preview -->
    <h2>Nodes</h2>
    <ul id="nodesList"></ul>

    <!-- Connections Preview -->
    <h2>Connections</h2>
    <ul id="connectionsList"></ul>

    <!-- JSON Preview -->
    <h2>Flow JSON Preview</h2>
    <pre id="jsonPreview" style="background:#eee;padding:1em;"></pre>

    <!-- Clear options -->
    <button id="clearPreviewBtn">Clear JSON Preview</button>
    <button id="clearAllBtn">Clear All Nodes & Connections</button>

    <br><br><br>

    <!-- Send -->
    <button id="sendConfigBtn">Generate Flow</button>
    <p id="status"></p>

    <div id="configPanel"
        style="display:none; position:fixed; top:10%; left:10%; background:white; border:1px solid black; padding:1em; z-index:1000">
        <h3>Configure Gate Rules</h3>
        <p id="configLabel"></p>
        <div id="ruleForm"></div>
        <button id="addRuleRowBtn">Add Rule</button>
        <button id="saveConfigBtn">Save</button>
        <button id="closeConfigPanelBtn">Cancel</button>
    </div>

    <!-- Your custom script -->
    <script defer src="./index.js"></script>
</body>
</html>